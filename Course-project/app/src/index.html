<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>At P2P tegne</title>
    <link rel="icon" href="favicon.ico"> <!-- https://www.flaticon.com/free-icon/whiteboard_3253220 -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="top">
        <div id="color_picker">
            <div id="color-div">
                <div style="border-right: 1px solid black; margin-right: 10px; width: 380px;">
                    <div><b>Vælg farve</b></div>
                    <div style="background:transparent;" id="hidden_spacer"></div>
                    <div style="background:white;" class="color" id="color_white" onclick="setBrush(this)"></div>
                    <div style="background:black;" class="color" id="color_black" onclick="setBrush(this)"></div>
                    <div style="background:green;" class="color" id="color_green" onclick="setBrush(this)"></div>
                    <div style="background:blue;" class="color" id="color_blue" onclick="setBrush(this)"></div>
                    <div style="background:red;" class="color" id="color_red" onclick="setBrush(this)"></div>
                    <div style="background:yellow;" class="color" id="color_yellow" onclick="setBrush(this)"></div>
                    <div style="background:purple;" class="color" id="color_orange" onclick="setBrush(this)"></div>
                </div>
                <div>
                    <div style="margin-bottom: 15px; margin-left: 5px;"><b>Viskelæder</b></div>
                    <div style="display: flex; flex-direction: column; align-items: center; justify-items: center;">
                        <div style="background: salmon;" class="color" id="eraser" onclick="setBrush(this)"></div>
                    </div>
                </div>
            </div>
            
            
            <div id="colpbottom">
                
                <!-- <div id="eraser_div">
                    <div style="margin-left: 14px;">Eraser</div>
                    <div style="background:white; cursor: pointer;" id="eraser" onclick="setBrush(this)"></div>
                </div> -->
                <div id="button_div">
                    <input type="button" value="Gem tegning (png)" id="save_button" class="buttons" onclick="saveImg()">
                    <input type="button" value="Gem tegnedata (json)" id="save_button" class="buttons" onclick="saveJSON()">
                    <input type="button" value="Indlæs fil (jpg, png, json)" id="load_button" class="buttons" onclick="document.getElementById('load_element').click();" />
                    <br>
                    <!-- <input type="button" value="Centrer" id="home_button" class="buttons" onclick="canvasHome()"> -->

                    <input type="file" style="display: none;" id="load_element" accept="image/png, image/jpeg, application/json" onchange="load(event)">
                    <input type="button" value="Slet egne bidrag" id="clear_button" class="buttons" onclick="canvasClear()">
                    <input type="button" value="Annuller slet" id="undo_delete_button" class="buttons" onclick="CanvasUndoDelete()">
                    <input type="button" value="Fortryd" id="undo_button" class="buttons" onclick="canvasUndo()">
                    <input type="button" value="Annuller fortryd" id="redo_button" class="buttons" onclick="canvasRedo()">
                </div>

                
            </div>
        </div>

        <div id="room-component">
            <div style="display: inline-flex;">
                <div id="peers_in_room">
                    <h3 style="margin-bottom: 8px; margin-top: 0px;">Personer som tegner</h3>
                    <!-- <p id="peerInfoText"><input type="checkbox" class="disableable" id="showAllCheckbox" onclick="allPeerCheckbox(this)"><label id="showText" for="showAllCheckbox">Deltager</label> | Personer</p> -->
                    <p id="peerInfoText"><label id="showText" for="showAllCheckbox">Deltager</label> | Personer</p>
                    <ul class="itemlist">
                        <li class="peerItem">
                            <input id="cb0" type="checkbox" class="peerCheckbox disableable" onclick="peerCheckbox(this)">|  <label for="cb0" class="peerName" style="margin: 0px;">Dig</label>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 style="margin-bottom: 5px; margin-top: 0px;">Tegninger</h3>
                    <ul class="itemlist" id="roomList">
                        <li class="roomItem active" style="overflow-y: visible; overflow-x: hidden; white-space:nowrap; text-overflow:ellipsis; flex-shrink: 0;" onclick="changeRoom(this.textContent)">Tegning</li>
                    </ul>
                    <input type="button" value="Opret" id="room-button" style="margin-bottom: 0px; margin-top: 5px; margin-left: 0px;" onclick="createRoom()">
                    <label for="room-input" style="margin-top: 0; display: inline; text-align: center;">ny tegning <br> med navn:</label>
                    <br>
                    <input type="text" name="Room" placeholder="F.eks. biltegning" id="room-input" style="width: 110px; margin-left: 0px;">
                </div>
            </div>
        </div>
        
        <div id="connect-component">
            <h2 id="myPeerText" style="margin-top: 0px;"></h2>
            <h3 id="connect-text">Forbind til person</h3>
            <div style="display: flex;">
                <input type="text" name="Connection" placeholder="F.eks. peer1234" id="connect-input" style="width: 95px; margin-right: 5px;">
                <button id="connect-btn">Forbind</button>
            </div>
            <p id="status-text">Skriv et person ID for en anden person for at forbinde til netværk af personer</p>
            
        </div>
        
    </div>
    
    <div id="canvas-div">
        <canvas id="canvas"></canvas>
    </div>


    <script src="../../Library/peerjs.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
